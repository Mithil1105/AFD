"use strict";(self.webpackChunkafd=self.webpackChunkafd||[]).push([[455],{455:(t,e,o)=>{o.r(e),o.d(e,{default:()=>y});var n=o(2555),s=o(5043),i=o(9896),r=o(9419),a=o(6036),c=o(3318),l=o(2023),p=o(2559),d=o(228),h=o.n(d),m=o(579);const u=new(h().Icon)({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]}),g=[[6.5,68],[37,97.5]],x=[22,78];function f(t){let{points:e}=t;const o=(0,i.ko)();return(0,s.useEffect)(()=>{if(!o||0===e.length)return;const t=e.map(t=>t.position||[t.lat,t.lng]);if(t.length>0){const e=h().latLngBounds(t);o.fitBounds(e,{padding:[50,50],maxZoom:8})}},[o,e]),null}function j(t){let{points:e,onOpenProject:o}=t;const i=(0,s.useMemo)(()=>{const t={},o=[];return e.forEach(e=>{const o=e.position||[e.lat,e.lng],s="".concat(o[0].toFixed(2),"_").concat(o[1].toFixed(2));t[s]||(t[s]=[]),t[s].push((0,n.A)((0,n.A)({},e),{},{position:o}))}),Object.values(t).forEach(t=>{1===t.length?o.push(t[0]):t.forEach((e,s)=>{const i=2*s*Math.PI/t.length,r=e.position[0]+.02*Math.cos(i),a=e.position[1]+.02*Math.sin(i);o.push((0,n.A)((0,n.A)({},e),{},{position:[r,a]}))})}),o},[e]);return(0,m.jsx)(m.Fragment,{children:i.map(t=>(0,m.jsxs)(a.p,{position:t.position,icon:u,zIndexOffset:1e3,eventHandlers:{click:()=>{o&&o(t)}},children:[(0,m.jsxs)(p.m,{direction:"top",offset:[0,-10],opacity:1,permanent:!1,children:[(0,m.jsx)("strong",{children:t.name||t.title}),(0,m.jsx)("br",{}),t.location]}),(0,m.jsx)(c.z,{children:(0,m.jsxs)("div",{style:{minWidth:180},children:[(0,m.jsx)("h4",{style:{margin:"0 0 6px 0"},children:t.name||t.title}),(0,m.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:"0.9rem",opacity:.9},children:t.shortDesc||t.description||"Explore project details."}),(0,m.jsx)("p",{style:{margin:0,fontSize:"0.85rem",opacity:.8,fontStyle:"italic"},children:"Click marker to view details"})]})})]},t.id||"".concat(t.lat,"-").concat(t.lng)))})}function y(t){let{projects:e=[],onOpenProject:o}=t;const i="night"===(document.documentElement.dataset.theme||"day")?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",a=(0,s.useMemo)(()=>e.filter(t=>"number"===typeof t.lat&&"number"===typeof t.lng).map(t=>(0,n.A)((0,n.A)({},t),{},{position:[t.lat,t.lng]})),[e]);return 0===a.length?(0,m.jsx)("div",{style:{height:"500px",display:"grid",placeItems:"center",background:"var(--card)",color:"var(--text)",border:"1px solid var(--muted)",borderRadius:"var(--radius)"},children:"No project locations available"}):(0,m.jsxs)(r.W,{center:x,zoom:5,minZoom:4,maxBounds:g,style:{height:"500px",width:"100%"},scrollWheelZoom:!0,className:"project-map-container",children:[(0,m.jsx)(l.e,{url:i,attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(0,m.jsx)(f,{points:a}),(0,m.jsx)(j,{points:a,onOpenProject:o})]})}}}]);
//# sourceMappingURL=455.4fbedeec.chunk.js.map