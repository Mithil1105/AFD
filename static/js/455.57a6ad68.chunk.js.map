{"version":3,"file":"static/js/455.57a6ad68.chunk.js","mappings":"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","sources":["components/_leaflet/LeafletBundle.jsx"],"sourcesContent":["import React, { useMemo, useRef, useEffect } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, Tooltip, useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\n\n// Create a better-looking pin icon using Leaflet's default style but colored\nconst icon = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  tooltipAnchor: [16, -28],\n  shadowSize: [41, 41]\n});\n\n// India bounds - covers entire country\nconst indiaBounds = [\n  [6.5, 68.0],  // Southwest corner (south, west)\n  [37.0, 97.5]  // Northeast corner (north, east)\n];\n\nconst centerIndia = [22.0, 78.0]; // Center of India\n\n// Component to auto-fit bounds to show all markers\nfunction FitBounds({ points }) {\n  const map = useMap();\n\n  useEffect(() => {\n    if (!map || points.length === 0) return;\n\n    const positions = points.map(p => p.position || [p.lat, p.lng]);\n    if (positions.length > 0) {\n      const bounds = L.latLngBounds(positions);\n      map.fitBounds(bounds, {\n        padding: [50, 50],\n        maxZoom: 8 // Allow more zoom to see overlapping markers\n      });\n    }\n  }, [map, points]);\n\n  return null;\n}\n\n// Component to display markers without clustering - using React-Leaflet components\n// Handles overlapping markers by adding small offsets\nfunction MarkerGroup({ points, onOpenProject }) {\n  // Group markers by location and add offsets for overlapping ones\n  const processedPoints = useMemo(() => {\n    const grouped = {};\n    const result = [];\n    \n    points.forEach((p) => {\n      const position = p.position || [p.lat, p.lng];\n      const key = `${position[0].toFixed(2)}_${position[1].toFixed(2)}`;\n      \n      if (!grouped[key]) {\n        grouped[key] = [];\n      }\n      grouped[key].push({ ...p, position });\n    });\n\n    // Add offsets for overlapping markers\n    Object.values(grouped).forEach((group) => {\n      if (group.length === 1) {\n        result.push(group[0]);\n      } else {\n        // Multiple markers at same location - add small offsets\n        group.forEach((marker, index) => {\n          const offset = 0.02; // Small offset in degrees\n          const angle = (index * 2 * Math.PI) / group.length; // Spread in circle\n          const offsetLat = marker.position[0] + (offset * Math.cos(angle));\n          const offsetLng = marker.position[1] + (offset * Math.sin(angle));\n          result.push({ ...marker, position: [offsetLat, offsetLng] });\n        });\n      }\n    });\n    \n    return result;\n  }, [points]);\n\n  return (\n    <>\n      {processedPoints.map((p) => {\n        return (\n          <Marker\n            key={p.id || `${p.lat}-${p.lng}`}\n            position={p.position}\n            icon={icon}\n            zIndexOffset={1000} // Ensure markers are on top\n            eventHandlers={{\n              click: () => {\n                if (onOpenProject) onOpenProject(p);\n              }\n            }}\n          >\n            <Tooltip direction=\"top\" offset={[0, -10]} opacity={1} permanent={false}>\n              <strong>{p.name || p.title}</strong><br />{p.location}\n            </Tooltip>\n            <Popup>\n              <div style={{ minWidth: 180 }}>\n                <h4 style={{ margin: \"0 0 6px 0\" }}>{p.name || p.title}</h4>\n                <p style={{ margin: \"0 0 8px 0\", fontSize: \"0.9rem\", opacity: 0.9 }}>\n                  {p.shortDesc || p.description || \"Explore project details.\"}\n                </p>\n                <p style={{ margin: 0, fontSize: \"0.85rem\", opacity: 0.8, fontStyle: \"italic\" }}>\n                  Click marker to view details\n                </p>\n              </div>\n            </Popup>\n          </Marker>\n        );\n      })}\n    </>\n  );\n}\n\nexport default function LeafletBundle({ projects = [], onOpenProject }) {\n  const theme = document.documentElement.dataset.theme || \"day\";\n  const tiles = theme === \"night\"\n    ? \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\"\n    : \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\n\n  const points = useMemo(() => {\n    return projects\n      .filter(p => typeof p.lat === \"number\" && typeof p.lng === \"number\")\n      .map(p => ({\n        ...p,\n        position: [p.lat, p.lng]\n      }));\n  }, [projects]);\n\n  if (points.length === 0) {\n    return (\n      <div style={{\n        height: \"500px\",\n        display: \"grid\",\n        placeItems: \"center\",\n        background: \"var(--card)\",\n        color: \"var(--text)\",\n        border: \"1px solid var(--muted)\",\n        borderRadius: \"var(--radius)\"\n      }}>\n        No project locations available\n      </div>\n    );\n  }\n\n  return (\n    <MapContainer\n      center={centerIndia}\n      zoom={5}\n      minZoom={4}\n      maxBounds={indiaBounds}\n      style={{ height: \"500px\", width: \"100%\" }}\n      scrollWheelZoom={true}\n    >\n      <TileLayer \n        url={tiles}\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      />\n      <FitBounds points={points} />\n      <MarkerGroup points={points} onOpenProject={onOpenProject} />\n    </MapContainer>\n  );\n}\n\n"],"names":["icon","L","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","tooltipAnchor","shadowSize","indiaBounds","centerIndia","FitBounds","_ref","points","map","useMap","useEffect","length","positions","p","position","lat","lng","bounds","fitBounds","padding","maxZoom","MarkerGroup","_ref2","onOpenProject","processedPoints","useMemo","grouped","result","forEach","key","concat","toFixed","push","_objectSpread","Object","values","group","marker","index","angle","Math","PI","offsetLat","cos","offsetLng","sin","_jsx","_Fragment","children","_jsxs","Marker","zIndexOffset","eventHandlers","click","Tooltip","direction","offset","opacity","permanent","name","title","location","Popup","style","minWidth","margin","fontSize","shortDesc","description","fontStyle","id","LeafletBundle","_ref3","projects","tiles","document","documentElement","dataset","theme","filter","height","display","placeItems","background","color","border","borderRadius","MapContainer","center","zoom","minZoom","maxBounds","width","scrollWheelZoom","TileLayer","url","attribution"],"sourceRoot":""}